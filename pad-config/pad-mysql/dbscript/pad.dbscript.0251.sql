USE pad;

ALTER TABLE `pad`.`receipt` 
ADD COLUMN `payment_id` INT(11) NOT NULL AFTER `account_id`,
ADD COLUMN `msisdn` VARCHAR(16) NOT NULL AFTER `payment_id`;


ALTER TABLE `pad`.`system_parameters` 
ADD COLUMN `receipt_link_expire_days` INT(11) NOT NULL AFTER `is_booking_limit_check_enabled`;

UPDATE `pad`.`system_parameters` SET `receipt_link_expire_days`='21' WHERE `id`='1';

-- INSERT INTO `pad`.`language_keys` (`id`, `language_id`, `translate_key`, `translate_value`) VALUES ('1261', '1', 'KEY_SCREEN_ENTER_MOBILE_USED_PAYMENT_LABEL', 'Please enter mobile number used in the payment');
-- INSERT INTO `pad`.`language_keys` (`id`, `language_id`, `translate_key`, `translate_value`) VALUES ('1262', '2', 'KEY_SCREEN_ENTER_MOBILE_USED_PAYMENT_LABEL', 'Veuillez saisir le numéro de mobile utilisé dans le paiement');
-- INSERT INTO `pad`.`language_keys` (`id`, `language_id`, `translate_key`, `translate_value`) VALUES ('1263', '1', 'KEY_SCREEN_VALIDATE_MOBILE_LABEL', 'Validate Mobile Number');
-- INSERT INTO `pad`.`language_keys` (`id`, `language_id`, `translate_key`, `translate_value`) VALUES ('1264', '2', 'KEY_SCREEN_VALIDATE_MOBILE_LABEL', 'Valider le numéro de mobile');
-- INSERT INTO `pad`.`language_keys` (`id`, `language_id`, `translate_key`, `translate_value`) VALUES ('1265', '1', 'KEY_SCREEN_DOWNLOAD_RECEIPT_LABEL', 'Download Receipt');
-- INSERT INTO `pad`.`language_keys` (`id`, `language_id`, `translate_key`, `translate_value`) VALUES ('1266', '2', 'KEY_SCREEN_DOWNLOAD_RECEIPT_LABEL', 'Télécharger le reçu');


INSERT INTO `pad`.`sms_templates` (`id`, `type`, `name`, `language_id`, `account_id`, `config_id`, `source_addr`, `message`, `variables`, `priority`, `operator_id`, `date_created`, `date_edited`) VALUES ('23', '12', 'New Receipt - EN', '1', '-1', '1', 'AGS', 'Hello ${accountName}. Your Receipt is ready. Please click on the link ${receiptLink} to download it.', '', '10', '-1', '2020-01-17 10:11:20', '2020-01-17 10:11:20');
INSERT INTO `pad`.`sms_templates` (`id`, `type`, `name`, `language_id`, `account_id`, `config_id`, `source_addr`, `message`, `variables`, `priority`, `operator_id`, `date_created`, `date_edited`) VALUES ('24', '12', 'New Receipt - FR', '2', '-1', '1', 'AGS', 'Bonjour ${accountName}. Votre reçu est prêt. Veuillez cliquer sur le lien ${receiptLink} pour le télécharger.', ' ', '10', '-1', '2020-01-17 10:11:20', '2020-01-17 10:11:20');

INSERT INTO `pad`.`email_templates` (`id`, `type`, `name`, `account_id`, `language_id`, `config_id`, `user`, `email_from`, `email_from_password`, `email_bcc`, `subject`, `template`, `message`, `variables`, `priority`, `operator_id`, `date_created`, `date_edited`) VALUES ('19', '10', 'New Receipt - EN', '-1', '1', '1', 'jeffrey@telclic.net', 'no-reply@agsparking.com', 'EQhhFGQ3', '', 'AGS PAD - New Receipt', '<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><html xmlns=\"http://www.w3.org/1999/xhtml\"><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><title>SCF - </title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/></head><body style=\"margin: 0; padding: 0;\"><div style=\"margin:0;background-color:#f3f3f4\"><div style=\"background-color:#f3f3f4;font-size:14px;font-family:\'Helvetica Neue\',Helvetica,Arial,sans-serif;color:#333333;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0\"><table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" style=\"background-color:#f3f3f4;font-size:14px;font-family:\'Helvetica Neue\',Helvetica,Arial,sans-serif;color:#333333;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0\"><tbody><tr><td align=\"center\"><table width=\"600px\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" bgcolor=\"#f3f3f4\" align=\"center\" style=\"border-spacing:0\"><tbody><tr><td width=\"600\" bgcolor=\"#f3f3f4\" style=\"border-collapse:collapse\"><table width=\"600\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" bgcolor=\"#f3f3f4\" style=\"border-spacing:0;margin-bottom:0;margin-left:auto;margin-right:auto;margin-top:40px\"><tbody><tr><td width=\"600\" height=\"100\" bgcolor=\"#337AB7\" style=\"border-collapse:collapse;background:#337AB7;border-radius:3px 3px 0 0\"><table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-spacing:0;margin:0 auto\"><tbody><tr><td><h4 style=\"color: white;font-size: 30px;\">Port Access Dakar</h4></td></tr></tbody></table></td></tr><tr><td width=\"600\" bgcolor=\"#ffffff\">\n                                                ${templateBody}\n                                             </td></tr><tr><td width=\"600\" height=\"20\" style=\"border-collapse:collapse\">&nbsp;</td></tr><tr style=\"font-size:12px;color:#999999\"><td width=\"600\" align=\"left\" style=\"border-collapse:collapse\"><p style=\"line-height:21px;margin-bottom:15px;margin-left:0;margin-right:0;margin-top:28px\">CONFIDENTIEL! Cet email contient des informations confidentielles et est destiné au destinataire autorisé uniquement. Vous ne pouvez ni utiliser ni modifier le courrier électronique, y compris les pièces jointes, ni le rendre accessible à des tiers de quelque manière que ce soit. Toute copie, divulgation ou distribution non autorisée du contenu de ce courrier électronique est strictement interdite. Merci de votre collaboration. Si vous avez reçu ce message par erreur, veuillez supprimer cet email.\n                                                   <br><br>\n                                                  SAVE PAPER - N\'imprimez pas cet e-mail sauf en cas de nécessité absolue\n                                                </p></td></tr><tr><td width=\"600\" height=\"50\" style=\"border-collapse:collapse\">&nbsp;</td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></div></div></body></html>', '<table width=\"600\" cellspacing=\"0\" border=\"0\" cellpadding=\"0\" style=\"width:100%;padding:32px 50px 32px;border-left:1px solid #e8e8e9;border-right:1px solid #e8e8e9\"><tbody><tr><td><p style=\"font-family:\'Helvetica Neue\';font-size:26px;font-weight:normal;color:#545457;margin:1em 0\">Hello ${accountName},</p></td></tr><tr><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"width:100%\"><tbody><tr><td><p style=\"font-family:Helvetica;font-size:16px;color:#545457;line-height:22px;margin-bottom:1.3em\">Please <a href=\"${receiptLink}\">click here</a> to download your receipt.\n                                                     \n                                                     \n                 </p></td></tr><tr><td><p style=\"font-family:Helvetica;font-size:16px;color:#707074;line-height:22px;margin-bottom:1em\">\n                                    Kind Regards,\n                                                           \n                                                           \n                                                                                                     \n                                     \n                   <br><strong>PAD Support Team</strong><br>https://www.agsparking.com</p></td></tr></tbody></table>', '', '15', '-1', '2020-01-17 10:11:20', '2020-01-17 10:11:20');
INSERT INTO `pad`.`email_templates` (`id`, `type`, `name`, `account_id`, `language_id`, `config_id`, `user`, `email_from`, `email_from_password`, `email_bcc`, `subject`, `template`, `message`, `variables`, `priority`, `operator_id`, `date_created`, `date_edited`) VALUES ('20', '10', 'New Receipt - FR', '-1', '2', '1', 'jeffrey@telclic.net', 'no-reply@agsparking.com', 'EQhhFGQ3', ' ', 'AGS PAD - Nouveau reçu', '<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><html xmlns=\"http://www.w3.org/1999/xhtml\"><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><title>SCF - </title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/></head><body style=\"margin: 0; padding: 0;\"><div style=\"margin:0;background-color:#f3f3f4\"><div style=\"background-color:#f3f3f4;font-size:14px;font-family:\'Helvetica Neue\',Helvetica,Arial,sans-serif;color:#333333;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0\"><table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" style=\"background-color:#f3f3f4;font-size:14px;font-family:\'Helvetica Neue\',Helvetica,Arial,sans-serif;color:#333333;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0\"><tbody><tr><td align=\"center\"><table width=\"600px\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" bgcolor=\"#f3f3f4\" align=\"center\" style=\"border-spacing:0\"><tbody><tr><td width=\"600\" bgcolor=\"#f3f3f4\" style=\"border-collapse:collapse\"><table width=\"600\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" bgcolor=\"#f3f3f4\" style=\"border-spacing:0;margin-bottom:0;margin-left:auto;margin-right:auto;margin-top:40px\"><tbody><tr><td width=\"600\" height=\"100\" bgcolor=\"#337AB7\" style=\"border-collapse:collapse;background:#337AB7;border-radius:3px 3px 0 0\"><table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-spacing:0;margin:0 auto\"><tbody><tr><td><h4 style=\"color: white;font-size: 30px;\">Port Access Dakar</h4></td></tr></tbody></table></td></tr><tr><td width=\"600\" bgcolor=\"#ffffff\">\n                                                ${templateBody}\n                                             </td></tr><tr><td width=\"600\" height=\"20\" style=\"border-collapse:collapse\">&nbsp;</td></tr><tr style=\"font-size:12px;color:#999999\"><td width=\"600\" align=\"left\" style=\"border-collapse:collapse\"><p style=\"line-height:21px;margin-bottom:15px;margin-left:0;margin-right:0;margin-top:28px\">CONFIDENTIEL! Cet email contient des informations confidentielles et est destiné au destinataire autorisé uniquement. Vous ne pouvez ni utiliser ni modifier le courrier électronique, y compris les pièces jointes, ni le rendre accessible à des tiers de quelque manière que ce soit. Toute copie, divulgation ou distribution non autorisée du contenu de ce courrier électronique est strictement interdite. Merci de votre collaboration. Si vous avez reçu ce message par erreur, veuillez supprimer cet email.\n                                                   <br><br>\n                                                  SAVE PAPER - N\'imprimez pas cet e-mail sauf en cas de nécessité absolue\n                                                </p></td></tr><tr><td width=\"600\" height=\"50\" style=\"border-collapse:collapse\">&nbsp;</td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></div></div></body></html>', '<table width=\"600\" cellspacing=\"0\" border=\"0\" cellpadding=\"0\" style=\"width:100%;padding:32px 50px 32px;border-left:1px solid #e8e8e9;border-right:1px solid #e8e8e9\"><tbody><tr><td><p style=\"font-family:\'Helvetica Neue\';font-size:26px;font-weight:normal;color:#545457;margin:1em 0\">Salut ${accountName},</p></td></tr><tr><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"width:100%\"><tbody><tr><td><p style=\"font-family:Helvetica;font-size:16px;color:#545457;line-height:22px;margin-bottom:1.3em\">Veuillez <a href=\"${receiptLink}\">cliquer ici</a> pour télécharger votre reçu.\n                                                     \n                                                     \n                 </p></td></tr><tr><td><p style=\"font-family:Helvetica;font-size:16px;color:#707074;line-height:22px;margin-bottom:1em\">\n                                    Sincères amitiés,\n                                                           \n                                                           \n                                                                                                     \n                                     \n                   <br><strong>PAD Support Team</strong><br>https://www.agsparking.com</p></td></tr></tbody></table>', ' ', '15', '-1', '2020-01-17 10:11:20', '2020-01-17 10:11:20');

ALTER TABLE `pad`.`receipt` 
CHANGE COLUMN `number` `number` VARCHAR(32) NOT NULL ;
